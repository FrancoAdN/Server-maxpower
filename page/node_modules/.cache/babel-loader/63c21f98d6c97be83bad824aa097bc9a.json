{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Server-maxpower\\\\page\\\\src\\\\components\\\\Chat\\\\Chat.js\";\nimport React, { useState, useContext } from 'react';\nimport './Chat.css';\nimport { SockContext } from '../../_useChat';\nexport default function Chat() {\n  const {\n    chats,\n    sendMessageServer\n  } = useContext(SockContext);\n  const [currentChat, setCurrentChat] = useState({});\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container main-chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3 h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row toprow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mx-auto my-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 25\n    }\n  }, \"Maxpower Chat\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mainrow d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 21\n    }\n  }, chats.map(chat => /*#__PURE__*/React.createElement(ChatClient, {\n    key: chat.socket_id,\n    client: chat,\n    change: setCurrentChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ClientContent, {\n    client: currentChat,\n    emitMsg: sendMessageServer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }))));\n}\n\nfunction ChatClient({\n  client,\n  change\n}) {\n  if (client.messages.length > 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column w-100\",\n      style: {\n        height: '60px',\n        borderBottom: '1px solid black'\n      },\n      onClick: () => change(client),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mx-auto\",\n      style: {\n        fontSize: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, client.name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mx-auto\",\n      style: {\n        fontSize: '12px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, client.messages[client.messages.length - 1].msg));\n  } else if (client) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column w-100\",\n      style: {\n        height: '60px',\n        borderBottom: '1px solid black'\n      },\n      onClick: () => change(client),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mx-auto\",\n      style: {\n        fontSize: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, client.name));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    });\n  }\n}\n\nfunction ClientContent({\n  client,\n  emitMsg\n}) {\n  const [text, setText] = useState('');\n\n  const sendMessage = () => {\n    const message = {\n      to: client.socket_id,\n      text\n    };\n    emitMsg(message);\n    setText('');\n  };\n\n  if (client.messages) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 toprow\",\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mx-auto my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, client.name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mainrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content d-flex flex-column overflow-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    },\n    /* MESSAGES HERE */\n    client.messages.map((message, i) => /*#__PURE__*/React.createElement(PrintMessage, {\n      key: i,\n      message: message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"send-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"in-msg d-flex justify-content-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: text,\n      onChange: e => setText(e.target.value),\n      onKeyDown: e => {\n        if (e.key === \"Enter\") {\n          e.preventDefault();\n          sendMessage();\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-primary\",\n      onClick: sendMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, \"Send\")))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 toprow\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 mainrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"send-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"in-msg d-flex justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"Send\")))));\n}\n\nfunction PrintMessage({\n  message\n}) {\n  if (message.from) {\n    // Message from client\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline float-right\",\n      style: {\n        background: '#e2130b',\n        padding: '10px',\n        paddingLeft: '20px',\n        paddingRight: '20px',\n        borderRadius: '30px',\n        maxWidth: '70%',\n        color: '#fff'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, message.msg));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mw-75\",\n    style: {\n      margin: '15px',\n      maxWidth: '70%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mw-75\",\n    style: {\n      background: '#e3e3e3',\n      padding: '10px',\n      paddingLeft: '20px',\n      paddingRight: '20px',\n      borderRadius: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, message.msg));\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/Server-maxpower/page/src/components/Chat/Chat.js"],"names":["React","useState","useContext","SockContext","Chat","chats","sendMessageServer","currentChat","setCurrentChat","map","chat","socket_id","ChatClient","client","change","messages","length","height","borderBottom","fontSize","name","msg","ClientContent","emitMsg","text","setText","sendMessage","message","to","i","e","target","value","key","preventDefault","PrintMessage","from","margin","background","padding","paddingLeft","paddingRight","borderRadius","maxWidth","color"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport './Chat.css'\r\nimport { SockContext } from '../../_useChat'\r\n\r\n\r\nexport default function Chat() {\r\n    const { chats, sendMessageServer } = useContext(SockContext)\r\n\r\n\r\n    const [currentChat, setCurrentChat] = useState({})\r\n\r\n\r\n    return (\r\n        <div className=\"container main-chat\">\r\n            <div className=\"row h-100\">\r\n                <div className=\"col-3 h-100\">\r\n\r\n                    <div className=\"row toprow\">\r\n                        <h4 className=\"mx-auto my-auto\">Maxpower Chat</h4>\r\n                    </div>\r\n\r\n                    <div className=\"row mainrow d-flex flex-column\">\r\n                        {\r\n                            chats.map(chat => (\r\n                                <ChatClient\r\n                                    key={chat.socket_id}\r\n                                    client={chat}\r\n                                    change={setCurrentChat}\r\n                                />\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col h-100\">\r\n                    <ClientContent client={currentChat} emitMsg={sendMessageServer} />\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction ChatClient({ client, change }) {\r\n    if (client.messages.length > 0) {\r\n        return (\r\n            <div className=\"d-flex flex-column w-100\"\r\n                style={{ height: '60px', borderBottom: '1px solid black' }}\r\n                onClick={() => change(client)}>\r\n                <span className=\"mx-auto\" style={{ fontSize: '20px' }}>{client.name}</span>\r\n                <span className=\"mx-auto\" style={{ fontSize: '12px' }}>{client.messages[client.messages.length - 1].msg}</span>\r\n            </div>\r\n        )\r\n    } else if (client) {\r\n        return (\r\n            <div className=\"d-flex flex-column w-100\"\r\n                style={{ height: '60px', borderBottom: '1px solid black' }}\r\n                onClick={() => change(client)}>\r\n                <span className=\"mx-auto\" style={{ fontSize: '20px' }}>{client.name}</span>\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return (<div></div>)\r\n    }\r\n\r\n}\r\n\r\nfunction ClientContent({ client, emitMsg }) {\r\n    const [text, setText] = useState('')\r\n\r\n    const sendMessage = () => {\r\n\r\n        const message = {\r\n            to: client.socket_id,\r\n            text\r\n        }\r\n\r\n        emitMsg(message)\r\n        setText('')\r\n    }\r\n\r\n    if (client.messages) {\r\n        return (\r\n            <div className=\"row h-100\">\r\n                <div className=\"w-100 toprow\" align=\"center\">\r\n                    <h4 className=\"mx-auto my-auto\">{client.name}</h4>\r\n                </div>\r\n\r\n                <div className=\"w-100 mainrow\">\r\n                    <div className=\"content d-flex flex-column overflow-auto\">\r\n                        {/* MESSAGES HERE */\r\n\r\n                            client.messages.map((message, i) => (\r\n                                <PrintMessage key={i} message={message} />\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    <div className=\"send-div\">\r\n                        <div className=\"in-msg d-flex justify-content-around\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={text}\r\n                                onChange={e => setText(e.target.value)}\r\n                                onKeyDown={e => {\r\n                                    if (e.key === \"Enter\") {\r\n                                        e.preventDefault()\r\n                                        sendMessage()\r\n                                    }\r\n                                }}\r\n                            />\r\n                            <span className=\"text-primary\" onClick={sendMessage}>Send</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"row h-100\">\r\n            <div className=\"w-100 toprow\" align=\"center\">\r\n\r\n            </div>\r\n\r\n            <div className=\"w-100 mainrow\">\r\n                <div className=\"send-div\">\r\n                    <div className=\"in-msg d-flex justify-content-around\">\r\n                        <input\r\n                            type=\"text\"\r\n                        />\r\n                        <span className=\"text-primary\" onClick={sendMessage}>Send</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nfunction PrintMessage({ message }) {\r\n    if (message.from) {\r\n        // Message from client\r\n        return (<div style={{ margin: '10px' }}>\r\n            <span className=\"d-inline float-right\" style={{ background: '#e2130b', padding: '10px', paddingLeft: '20px', paddingRight: '20px', borderRadius: '30px', maxWidth: '70%', color: '#fff' }}>\r\n                {message.msg}\r\n            </span>\r\n        </div>)\r\n    }\r\n\r\n    return (<div className=\"mw-75\" style={{ margin: '15px', maxWidth: '70%' }}>\r\n        <span className=\"mw-75\" style={{ background: '#e3e3e3', padding: '10px', paddingLeft: '20px', paddingRight: '20px', borderRadius: '30px' }}>\r\n            {message.msg}\r\n        </span>\r\n    </div >)\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}