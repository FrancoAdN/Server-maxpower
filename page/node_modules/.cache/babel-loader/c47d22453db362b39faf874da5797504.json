{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Server-maxpower\\\\page\\\\src\\\\components\\\\Chat\\\\Chat.js\";\nimport React, { useState, useContext } from 'react';\nimport './Chat.css';\nimport { SockContext } from '../../_useChat';\nexport default function Chat() {\n  const {\n    chats,\n    sendMessageServer\n  } = useContext(SockContext);\n  const [currentChat, setCurrentChat] = useState({});\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container main-chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3 h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row toprow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mx-auto my-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 25\n    }\n  }, \"Maxpower Chat\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mainrow d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 21\n    }\n  }, chats.map(chat => /*#__PURE__*/React.createElement(ChatClient, {\n    key: chat.socket_id,\n    client: chat,\n    change: setCurrentChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ClientContent, {\n    client: currentChat,\n    emitMsg: sendMessageServer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }))));\n}\n\nfunction ChatClient({\n  client,\n  change\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column w-100\",\n    style: {\n      height: '60px',\n      borderBottom: '1px solid black'\n    },\n    onClick: () => change(client),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mx-auto\",\n    style: {\n      fontSize: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, client.name), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mx-auto\",\n    style: {\n      fontSize: '12px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, client.messages[client.messages.length - 1].msg));\n}\n\nfunction ClientContent({\n  client,\n  emitMsg\n}) {\n  const [text, setText] = useState('');\n\n  const sendMessage = () => {\n    const message = {\n      to: client.socket_id,\n      text\n    };\n    emitMsg(message);\n    setText('');\n  };\n\n  if (client.messages) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 toprow\",\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mx-auto my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, client.name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 mainrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content d-flex flex-column overflow-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    },\n    /* MESSAGES HERE */\n    client.messages.map((message, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, message.msg))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"send-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"in-msg d-flex justify-content-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: text,\n      onChange: e => setText(e.target.value),\n      onKeyDown: e => {\n        if (e.key === \"Enter\") {\n          e.preventDefault();\n          sendMessage();\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-primary\",\n      onClick: sendMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, \"Send\")))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 toprow\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 mainrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"send-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"in-msg d-flex justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"Send\")))));\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/Server-maxpower/page/src/components/Chat/Chat.js"],"names":["React","useState","useContext","SockContext","Chat","chats","sendMessageServer","currentChat","setCurrentChat","map","chat","socket_id","ChatClient","client","change","height","borderBottom","fontSize","name","messages","length","msg","ClientContent","emitMsg","text","setText","sendMessage","message","to","i","e","target","value","key","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport './Chat.css'\r\nimport { SockContext } from '../../_useChat'\r\n\r\n\r\nexport default function Chat() {\r\n    const { chats, sendMessageServer } = useContext(SockContext)\r\n\r\n\r\n    const [currentChat, setCurrentChat] = useState({})\r\n\r\n\r\n    return (\r\n        <div className=\"container main-chat\">\r\n            <div className=\"row h-100\">\r\n                <div className=\"col-3 h-100\">\r\n\r\n                    <div className=\"row toprow\">\r\n                        <h4 className=\"mx-auto my-auto\">Maxpower Chat</h4>\r\n                    </div>\r\n\r\n                    <div className=\"row mainrow d-flex flex-column\">\r\n                        {\r\n                            chats.map(chat => (\r\n                                <ChatClient\r\n                                    key={chat.socket_id}\r\n                                    client={chat}\r\n                                    change={setCurrentChat}\r\n                                />\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col h-100\">\r\n\r\n                    <ClientContent client={currentChat} emitMsg={sendMessageServer} />\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction ChatClient({ client, change }) {\r\n    return (\r\n        <div className=\"d-flex flex-column w-100\"\r\n            style={{ height: '60px', borderBottom: '1px solid black' }}\r\n            onClick={() => change(client)}>\r\n            <span className=\"mx-auto\" style={{ fontSize: '20px' }}>{client.name}</span>\r\n            <span className=\"mx-auto\" style={{ fontSize: '12px' }}>{client.messages[client.messages.length - 1].msg}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ClientContent({ client, emitMsg }) {\r\n    const [text, setText] = useState('')\r\n\r\n    const sendMessage = () => {\r\n\r\n        const message = {\r\n            to: client.socket_id,\r\n            text\r\n        }\r\n\r\n        emitMsg(message)\r\n        setText('')\r\n    }\r\n\r\n    if (client.messages) {\r\n        return (\r\n            <div className=\"row h-100\">\r\n                <div className=\"w-100 toprow\" align=\"center\">\r\n                    <h4 className=\"mx-auto my-auto\">{client.name}</h4>\r\n                </div>\r\n\r\n                <div className=\"w-100 mainrow\">\r\n                    <div className=\"content d-flex flex-column overflow-auto\">\r\n                        {/* MESSAGES HERE */\r\n\r\n                            client.messages.map((message, i) => (\r\n                                <p key={i}>{message.msg}</p>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    <div className=\"send-div\">\r\n                        <div className=\"in-msg d-flex justify-content-around\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={text}\r\n                                onChange={e => setText(e.target.value)}\r\n                                onKeyDown={e => {\r\n                                    if (e.key === \"Enter\") {\r\n                                        e.preventDefault()\r\n                                        sendMessage()\r\n                                    }\r\n                                }}\r\n                            />\r\n                            <span className=\"text-primary\" onClick={sendMessage}>Send</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"row h-100\">\r\n            <div className=\"w-100 toprow\" align=\"center\">\r\n\r\n            </div>\r\n\r\n            <div className=\"w-100 mainrow\">\r\n                <div className=\"send-div\">\r\n                    <div className=\"in-msg d-flex justify-content-around\">\r\n                        <input\r\n                            type=\"text\"\r\n                        />\r\n                        <span className=\"text-primary\" onClick={sendMessage}>Send</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}